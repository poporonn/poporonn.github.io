<!DOCTYPE html>
<!--
  ╔══════════════════════════════════════════════════════════════════╗
  ║  TOOL GAËL — Simple outil de calcul pour la Médecine Nucléaire        ║
  ║                                                                 ║
  ║  Copyright © Swiss Nuclear Doctors — Tous droits réservés       ║
  ║  Développé par Gaël Amzalag                                     ║
  ║                                                                 ║
  ║  Ce logiciel est protégé par le droit d'auteur. Toute           ║
  ║  reproduction, distribution, modification ou utilisation         ║
  ║  non autorisée de tout ou partie de ce code est strictement     ║
  ║  interdite sans l'accord écrit préalable de l'auteur.           ║
  ║                                                                 ║
  ║  This software is protected by copyright law. Any unauthorized  ║
  ║  reproduction, distribution, modification or use of all or      ║
  ║  part of this code is strictly prohibited without prior         ║
  ║  written consent of the author.                                 ║
  ╚══════════════════════════════════════════════════════════════════╝
-->
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="theme-color" content="#1a5276">
<link rel="manifest" href="manifest.json">
<link rel="apple-touch-icon" href="icon-180.png">
<title>TOOL GAËL - Médecine Nucléaire</title>
<style>
:root {
  --primary: #1a5276;
  --primary-light: #2980b9;
  --accent: #e74c3c;
  --bg: #f4f6f9;
  --card: #ffffff;
  --text: #2c3e50;
  --text-light: #7f8c8d;
  --border: #dce1e8;
  --input-bg: #fff8f0;
  --result-bg: #eaf7ea;
  --normal: #27ae60;
  --warning: #e67e22;
  --danger: #e74c3c;
  --auto-bg: #e8f0fe;
  --auto-border: #4a90d9;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
input, select, button { max-width: 100%; box-sizing: border-box; }
.form-group { overflow: hidden; }

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
}

header {
  background: linear-gradient(135deg, var(--primary), var(--primary-light));
  color: white;
  padding: 1.2rem 2rem;
  display: flex;
  align-items: center;
  justify-content: space-between;
  box-shadow: 0 2px 8px rgba(0,0,0,0.15);
}

header h1 { font-size: 1.5rem; font-weight: 600; }
header .subtitle { font-size: 0.85rem; opacity: 0.85; }
header .version { font-size: 0.75rem; opacity: 0.6; }

nav {
  background: white;
  border-bottom: 1px solid var(--border);
  padding: 0 1rem;
  display: flex;
  gap: 0;
  overflow-x: auto;
  box-shadow: 0 1px 3px rgba(0,0,0,0.05);
}

nav button {
  padding: 0.8rem 1.2rem;
  border: none;
  background: none;
  cursor: pointer;
  font-size: 0.9rem;
  color: var(--text-light);
  border-bottom: 3px solid transparent;
  transition: all 0.2s;
  white-space: nowrap;
  font-weight: 500;
}

nav button:hover { color: var(--primary); background: #f0f4f8; }
nav button.active {
  color: var(--primary);
  border-bottom-color: var(--primary);
  font-weight: 600;
}

.module { display: none; padding: 1.5rem 2rem; max-width: 1024px; margin: 0 auto; }
.module.active { display: block; }

.module h2 {
  font-size: 1.3rem;
  color: var(--primary);
  margin-bottom: 0.3rem;
}

.module .description {
  color: var(--text-light);
  font-size: 0.9rem;
  margin-bottom: 1.5rem;
}

.card {
  background: var(--card);
  border-radius: 8px;
  padding: 1.2rem 1.5rem;
  margin-bottom: 1rem;
  box-shadow: 0 1px 4px rgba(0,0,0,0.06);
  border: 1px solid var(--border);
  position: relative;
  overflow: hidden;
  max-width: 100%;
}

.card h3 {
  font-size: 1rem;
  color: var(--primary);
  margin-bottom: 0.8rem;
  padding-bottom: 0.4rem;
  border-bottom: 1px solid var(--border);
}

.form-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.8rem 1.5rem;
}

.form-group { display: flex; flex-direction: column; gap: 0.3rem; }
.form-group.full { grid-column: 1 / -1; }

.form-group label {
  font-size: 0.82rem;
  font-weight: 600;
  color: var(--text);
}

.form-group label .unit {
  font-weight: 400;
  color: var(--text-light);
}

.form-group input, .form-group select {
  width: 100%;
  min-width: 0;
  padding: 0.5rem 0.7rem;
  border: 1.5px solid var(--border);
  border-radius: 5px;
  font-size: 0.95rem;
  background: var(--input-bg);
  transition: border-color 0.2s;
}

.form-group input:focus, .form-group select:focus {
  outline: none;
  border-color: var(--primary-light);
  box-shadow: 0 0 0 3px rgba(41,128,185,0.1);
}

.form-group input[readonly] {
  background: #f0f0f0;
  color: var(--text-light);
}

/* Auto-populated field style */
.form-group input.auto-filled {
  background: var(--auto-bg);
  border-color: var(--auto-border);
  font-weight: 600;
}

.auto-tag {
  font-size: 0.65rem;
  color: var(--auto-border);
  font-weight: 400;
  font-style: italic;
}

.results-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.8rem 1.5rem;
}

.result-item {
  background: var(--result-bg);
  padding: 0.8rem 1rem;
  border-radius: 6px;
  border-left: 4px solid var(--normal);
}

.result-item.full { grid-column: 1 / -1; }

.result-item .label {
  font-size: 0.78rem;
  color: var(--text-light);
  margin-bottom: 0.2rem;
}

.result-item .value {
  font-size: 1.3rem;
  font-weight: 700;
  color: var(--primary);
}

.result-item .norm {
  font-size: 0.75rem;
  color: var(--text-light);
  margin-top: 0.2rem;
}

.result-item.warning { border-left-color: var(--warning); }
.result-item.warning .value { color: var(--warning); }
.result-item.danger { border-left-color: var(--danger); }
.result-item.danger .value { color: var(--danger); }

.btn {
  padding: 0.6rem 1.5rem;
  border: none;
  border-radius: 5px;
  cursor: pointer;
  font-size: 0.9rem;
  font-weight: 600;
  transition: all 0.2s;
}

.btn-primary {
  background: var(--primary);
  color: white;
}
.btn-primary:hover { background: var(--primary-light); }

.btn-secondary {
  background: #ecf0f1;
  color: var(--text);
}
.btn-secondary:hover { background: #dce1e8; }

.btn-row {
  display: flex;
  gap: 0.8rem;
  margin-top: 1rem;
}

.patient-info {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: 0.8rem;
}

.patient-info-3 {
  display: grid;
  grid-template-columns: 1fr 1fr 1fr;
  gap: 0.8rem;
}

.norms-table {
  width: 100%;
  border-collapse: collapse;
  font-size: 0.85rem;
  margin-top: 0.5rem;
}

.norms-table th, .norms-table td {
  padding: 0.4rem 0.7rem;
  border: 1px solid var(--border);
  text-align: left;
}

.norms-table th {
  background: #f0f4f8;
  font-weight: 600;
  color: var(--primary);
}

.norms-table td:last-child { text-align: center; }

.three-col { grid-template-columns: 1fr 1fr 1fr; }

.separator {
  border: none;
  border-top: 1px solid var(--border);
  margin: 1rem 0;
}

/* Grossesse contra-indication overlay */
.thy-disabled {
  opacity: 0.35;
  pointer-events: none;
  position: relative;
}

.thy-disabled::after {
  content: "CONTRE-INDICATION — GROSSESSE";
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  font-size: 1.1rem;
  font-weight: 700;
  color: var(--danger);
  background: rgba(255,255,255,0.85);
  padding: 0.5rem 1.5rem;
  border: 2px solid var(--danger);
  border-radius: 6px;
  white-space: nowrap;
  z-index: 10;
}

/* OFSP status colors */
.ofsp-ambulatoire { border-left-color: var(--normal); color: var(--normal); }
.ofsp-derogation { border-left-color: var(--warning); color: var(--warning); }
.ofsp-hospitalisation { border-left-color: var(--danger); color: var(--danger); }

/* Marinelli formula box */
.formula-box {
  background: #f8f9fb;
  border: 1px solid var(--border);
  border-radius: 6px;
  padding: 0.8rem 1rem;
  font-size: 0.82rem;
  line-height: 1.6;
}

.formula-box .formula-title {
  font-weight: 700;
  color: var(--primary);
  margin-bottom: 0.4rem;
  font-size: 0.88rem;
}

.formula-box .formula-main {
  font-size: 1.1rem;
  font-weight: 600;
  color: var(--text);
  text-align: center;
  margin: 0.5rem 0;
  padding: 0.4rem;
  background: white;
  border-radius: 4px;
}

.formula-box .formula-legend {
  color: var(--text-light);
  font-size: 0.78rem;
}

.formula-box .formula-legend span {
  color: var(--text);
  font-weight: 600;
}

/* GFR module specific styles */
.method-toggle {
  display: flex;
  gap: 0.5rem;
  margin-bottom: 1rem;
}
.method-btn {
  padding: 0.4rem 1.1rem;
  border: 2px solid var(--border);
  background: white;
  border-radius: 5px;
  cursor: pointer;
  font-size: 0.85rem;
  font-weight: 600;
  color: var(--text-light);
  transition: all 0.2s;
}
.method-btn.active {
  border-color: var(--primary);
  color: var(--primary);
  background: #eaf2fb;
}
.hidden { display: none !important; }
.info-box {
  background: #eaf2fb;
  border: 1px solid #a9cce3;
  border-radius: 6px;
  padding: 0.6rem 0.9rem;
  font-size: 0.82rem;
  color: #1a5276;
  margin-bottom: 0.6rem;
  line-height: 1.5;
}
.section-label {
  font-size: 0.78rem;
  font-weight: 700;
  color: var(--primary);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  margin: 0.8rem 0 0.4rem;
}
.qc-item {
  display: flex;
  align-items: center;
  gap: 0.6rem;
  padding: 0.35rem 0.6rem;
  border-radius: 5px;
  font-size: 0.84rem;
  border-left: 3px solid var(--border);
  background: #f8f9fb;
  margin-bottom: 0.3rem;
}
.qc-item .qc-label { flex: 1; color: var(--text-light); }
.qc-item .qc-val { font-weight: 700; min-width: 5rem; text-align: right; color: var(--primary); }
.qc-item .qc-limit { font-size: 0.75rem; color: var(--text-light); min-width: 7rem; text-align: right; }
.qc-item.pass { border-left-color: var(--normal); background: #f0fbf4; }
.qc-item.pass .qc-val { color: var(--normal); }
.qc-item.fail { border-left-color: var(--danger); background: #fdf4f4; }
.qc-item.fail .qc-val { color: var(--danger); }
.qc-item.warn { border-left-color: var(--warning); background: #fdf7f0; }
.qc-item.warn .qc-val { color: var(--warning); }

/* No-print utility */
.no-print { }

/* Print styles - compact 1 page */
@media print {
  @page { margin: 8mm; size: A4; }
  body { font-size: 9pt; background: white; }
  nav { display: none !important; }
  .no-print { display: none !important; }
  header { padding: 0.3rem 0.8rem; }
  header h1 { font-size: 1.1rem; }
  .module { display: none !important; padding: 0.5rem 0.8rem; }
  .module.active { display: block !important; }
  .btn-row { display: none !important; }
  .card { padding: 0.5rem 0.7rem; margin-bottom: 0.4rem; box-shadow: none; border: 1px solid #ccc; }
  .card h3 { font-size: 0.85rem; margin-bottom: 0.3rem; padding-bottom: 0.2rem; }
  .form-grid, .results-grid { gap: 0.3rem 0.8rem; }
  .form-group label { font-size: 0.72rem; }
  .form-group input, .form-group select { font-size: 0.8rem; padding: 0.2rem 0.4rem; border: 1px solid #999; }
  .result-item { padding: 0.3rem 0.5rem; }
  .result-item .value { font-size: 1rem; }
  .result-item .label { font-size: 0.7rem; }
  .result-item .norm { font-size: 0.65rem; }
  .norms-table { font-size: 0.72rem; }
  .norms-table th, .norms-table td { padding: 0.15rem 0.4rem; }
  .separator { margin: 0.4rem 0; }
  .formula-box { padding: 0.4rem 0.6rem; font-size: 0.72rem; }
  .formula-box .formula-main { font-size: 0.88rem; margin: 0.2rem 0; padding: 0.2rem; }
  .formula-box .formula-legend { font-size: 0.68rem; }
  .patient-info, .patient-info-3 { gap: 0.3rem; }
  .module h2 { font-size: 1rem; margin-bottom: 0.1rem; }
  .module .description { font-size: 0.75rem; margin-bottom: 0.5rem; }
  .three-col { grid-template-columns: 1fr 1fr 1fr; }
}

@media (max-width: 700px) {
  header { flex-direction: column; gap: 0.5rem; padding: 0.8rem 1rem; text-align: center; }
  header > div[style*="text-align:right"] { text-align: center; }
  header h1 { font-size: 1.2rem; }
  body { overflow-x: hidden; }
  .module { padding: 0.3rem; max-width: 100%; overflow-x: hidden; }
  .card { padding: 0.5rem; margin-bottom: 0.5rem; margin-left: 0; margin-right: 0; border-radius: 6px; }
  .form-grid, .results-grid, .patient-info, .patient-info-3 { grid-template-columns: 1fr; gap: 0.4rem; max-width: 100%; }
  .form-grid.three-col { grid-template-columns: auto 1fr 1fr !important; gap: 0.3rem 0.4rem; }
  .form-grid.three-col .form-group label { white-space: nowrap; font-size: 0.68rem; }
  .results-grid.three-col { grid-template-columns: 1fr !important; }
  .form-group.full, .result-item.full { grid-column: 1; }
  .form-group { max-width: 100%; }
  .form-group label { font-size: 0.72rem; }
  .form-group input, .form-group select { font-size: 0.8rem; padding: 0.3rem 0.4rem; width: 100%; max-width: 100%; }
  input[type="date"] { -webkit-appearance: none; appearance: none; }
  nav { padding: 0 0.3rem; }
  nav button { padding: 0.5rem 0.6rem; font-size: 0.72rem; }
  .btn-row { flex-wrap: wrap; }
  .btn { padding: 0.5rem 1rem; font-size: 0.82rem; }
  .norms-table { font-size: 0.75rem; }
  .formula-box { padding: 0.3rem 0.5rem !important; }
  .formula-main { font-size: 0.8rem !important; }
  .formula-legend { font-size: 0.62rem !important; }
  h2 { font-size: 1rem; }
  h3 { font-size: 0.9rem; }
  .description { font-size: 0.78rem; }
  /* Stack the 2-column thyroid layout on small screens */
  #mod-thyroide > div[style*="display:flex"] { flex-direction: column !important; }
  #mod-thyroide > div[style*="display:flex"] > .card { flex: 1 1 auto !important; }
}
</style>
</head>
<body>

<header>
  <div style="display:flex; align-items:center; gap:0.8rem;">
    <svg width="36" height="36" viewBox="0 0 600 600" xmlns="http://www.w3.org/2000/svg" style="border-radius:4px; flex-shrink:0;">
      <rect width="600" height="600" fill="#E60000"/>
      <g transform="translate(300 300)">
        <g stroke="white" stroke-width="12" fill="none">
          <ellipse rx="282" ry="150"/>
          <ellipse rx="282" ry="150" transform="rotate(60)"/>
          <ellipse rx="282" ry="150" transform="rotate(120)"/>
        </g>
        <g>
          <rect x="-45" y="-125" width="90" height="250" fill="white"/>
          <rect x="-125" y="-45" width="250" height="90" fill="white"/>
          <animateTransform attributeName="transform" type="scale" values="1;1.08;1" dur="1.0s" repeatCount="indefinite"/>
        </g>
        <defs><circle id="e" r="12" fill="white"/></defs>
        <g>
          <use href="#e"><animateMotion dur="1.5s" begin="0s" repeatCount="indefinite" path="M282 0 A282 150 0 1 1 -282 0 A282 150 0 1 1 282 0"/></use>
          <use href="#e"><animateMotion dur="1.9s" begin="0.5s" repeatCount="indefinite" path="M282 0 A282 150 0 1 0 -282 0 A282 150 0 1 0 282 0"/></use>
          <use href="#e"><animateMotion dur="1.7s" begin="0.8s" repeatCount="indefinite" path="M282 0 A282 150 0 1 1 -282 0 A282 150 0 1 1 282 0"/></use>
        </g>
        <g transform="rotate(60)">
          <use href="#e"><animateMotion dur="1.6s" begin="0.3s" repeatCount="indefinite" path="M282 0 A282 150 0 1 0 -282 0 A282 150 0 1 0 282 0"/></use>
          <use href="#e"><animateMotion dur="1.4s" begin="1.1s" repeatCount="indefinite" path="M282 0 A282 150 0 1 1 -282 0 A282 150 0 1 1 282 0"/></use>
          <use href="#e"><animateMotion dur="2.0s" begin="0.6s" repeatCount="indefinite" path="M282 0 A282 150 0 1 0 -282 0 A282 150 0 1 0 282 0"/></use>
        </g>
        <g transform="rotate(120)">
          <use href="#e"><animateMotion dur="1.8s" begin="0.4s" repeatCount="indefinite" path="M282 0 A282 150 0 1 1 -282 0 A282 150 0 1 1 282 0"/></use>
          <use href="#e"><animateMotion dur="1.3s" begin="0.9s" repeatCount="indefinite" path="M282 0 A282 150 0 1 0 -282 0 A282 150 0 1 0 282 0"/></use>
          <use href="#e"><animateMotion dur="1.5s" begin="0.2s" repeatCount="indefinite" path="M282 0 A282 150 0 1 1 -282 0 A282 150 0 1 1 282 0"/></use>
        </g>
      </g>
    </svg>
    <div>
      <h1>TOOL GAËL</h1>
      <div class="subtitle">Simple outil de calcul pour la Médecine Nucléaire</div>
    </div>
  </div>
  <div style="text-align:right">
    <div class="version">Développé par Gaël Amzalag</div>
    <div class="version">© Swiss Nuclear Doctors</div>
  </div>
</header>

<nav id="nav">
  <button class="active" onclick="showModule('thyroide')">Thyroïde I-131</button>
  <button onclick="showModule('hbs')">HBS Hépatique</button>
  <button onclick="showModule('herder')">Herder (NPS)</button>
  <button onclick="showModule('dmsa')">DMSA</button>
  <button onclick="showModule('mag3')">MAG3</button>
  <button onclick="showModule('datscan')">DaTSCAN</button>
  <button onclick="showModule('gfr')">GFR</button>
  <button onclick="showModule('shunt_simple')">Shunt Cérébral</button>
  <button onclick="showModule('shunt_sirt')">Shunt Pulmonaire</button>
</nav>

<!-- ==================== DMSA ==================== -->
<div id="mod-dmsa" class="module">
  <h2>Scintigraphie Rénale Corticale au DMSA</h2>
  <p class="description">Fonctions rénales relatives par moyenne géométrique</p>

  <div class="card">
    <h3>Informations Patient</h3>
    <div class="patient-info">
      <div class="form-group"><label>ID PATIENT (NIP)</label><input type="text" id="dmsa-ipp"></div>
      <div class="form-group"><label>Date de l'examen</label><input type="date" id="dmsa-date"></div>
    </div>
  </div>

  <div class="card">
    <h3>Données d'acquisition (counts)</h3>
    <p style="font-size:0.78rem; color:var(--text-light); margin-bottom:0.5rem; font-style:italic;">⚠ Les ROI doivent être identiques entre AP et PA (copier/coller en miroir), sinon les résultats seront faux.</p>
    <div class="form-grid">
      <div></div>
      <div style="display:flex; gap:0.5rem; font-weight:600; font-size:0.85rem; color:var(--primary); padding-bottom:0.2rem;">
        <span style="flex:1; text-align:center">ROI PA (postérieur)</span>
        <span style="flex:1; text-align:center">ROI AP (antérieur)</span>
      </div>
      <div class="form-group">
        <label>Rein Gauche</label>
      </div>
      <div style="display:flex; gap:0.4rem;">
        <div class="form-group" style="flex:1"><input type="number" id="dmsa-rg-pa" oninput="calcDMSA()"></div>
        <div class="form-group" style="flex:1"><input type="number" id="dmsa-rg-ap" oninput="calcDMSA()"></div>
      </div>
      <div class="form-group">
        <label>Rein Droit</label>
      </div>
      <div style="display:flex; gap:0.4rem;">
        <div class="form-group" style="flex:1"><input type="number" id="dmsa-rd-pa" oninput="calcDMSA()"></div>
        <div class="form-group" style="flex:1"><input type="number" id="dmsa-rd-ap" oninput="calcDMSA()"></div>
      </div>
    </div>
  </div>

  <div class="card">
    <h3>Résultats</h3>
    <div class="results-grid">
      <div class="result-item" id="dmsa-res-rg">
        <div class="label">Rein Gauche</div>
        <div class="value" id="dmsa-val-rg">-</div>
        <div class="norm">Norme : 45% - 55%</div>
      </div>
      <div class="result-item" id="dmsa-res-rd">
        <div class="label">Rein Droit</div>
        <div class="value" id="dmsa-val-rd">-</div>
        <div class="norm">Norme : 45% - 55%</div>
      </div>
    </div>
    <div class="btn-row">
      <button class="btn btn-primary" onclick="calcDMSA()">Calculer</button>
      <button class="btn btn-secondary" onclick="resetModule('dmsa')">Réinitialiser</button>
      <button class="btn btn-secondary" onclick="window.print()">Imprimer</button>
    </div>
  </div>
</div>

<!-- ==================== MAG3 ==================== -->
<div id="mod-mag3" class="module">
  <h2>Scintigraphie Rénale Dynamique au MAG3</h2>
  <p class="description">Indices d'élimination rénaux aux différents temps de l'examen dynamique</p>

  <div class="card">
    <h3>Informations Patient</h3>
    <div class="patient-info">
      <div class="form-group"><label>ID PATIENT (NIP)</label><input type="text" id="mag3-ipp"></div>
      <div class="form-group"><label>Date de l'examen</label><input type="date" id="mag3-date"></div>
    </div>
  </div>

  <div class="card">
    <h3>Données d'acquisition (counts/sec)</h3>
    <div class="form-grid three-col">
      <div></div>
      <div style="font-weight:600; font-size:0.85rem; color:var(--primary); text-align:center; white-space:nowrap">R. Droit</div>
      <div style="font-weight:600; font-size:0.85rem; color:var(--primary); text-align:center; white-space:nowrap">R. Gauche</div>

      <div class="form-group"><label>Cts/sec max</label></div>
      <div class="form-group"><input type="number" id="mag3-rd-max" oninput="calcMAG3()"></div>
      <div class="form-group"><input type="number" id="mag3-rg-max" oninput="calcMAG3()"></div>

      <div class="form-group"><label>Cts/sec 20 min</label></div>
      <div class="form-group"><input type="number" id="mag3-rd-20" oninput="calcMAG3()"></div>
      <div class="form-group"><input type="number" id="mag3-rg-20" oninput="calcMAG3()"></div>

      <div class="form-group"><label>Cts/sec fin exam.</label></div>
      <div class="form-group"><input type="number" id="mag3-rd-end" oninput="calcMAG3()"></div>
      <div class="form-group"><input type="number" id="mag3-rg-end" oninput="calcMAG3()"></div>
    </div>
  </div>

  <div class="card">
    <h3>Résultats</h3>
    <div class="results-grid">
      <div class="result-item">
        <div class="label">Élimination à 20 min - Rein Droit</div>
        <div class="value" id="mag3-val-rd20">-</div>
        <div class="norm">Norme : > 70%</div>
      </div>
      <div class="result-item">
        <div class="label">Élimination à 20 min - Rein Gauche</div>
        <div class="value" id="mag3-val-rg20">-</div>
        <div class="norm">Norme : > 70%</div>
      </div>
      <div class="result-item">
        <div class="label">Élimination 20-40 min - Rein Droit</div>
        <div class="value" id="mag3-val-rd40">-</div>
        <div class="norm">Norme : > 40%</div>
      </div>
      <div class="result-item">
        <div class="label">Élimination 20-40 min - Rein Gauche</div>
        <div class="value" id="mag3-val-rg40">-</div>
        <div class="norm">Norme : > 40%</div>
      </div>
      <div class="result-item">
        <div class="label">Élimination fin d'examen - Rein Droit</div>
        <div class="value" id="mag3-val-rdend">-</div>
      </div>
      <div class="result-item">
        <div class="label">Élimination fin d'examen - Rein Gauche</div>
        <div class="value" id="mag3-val-rgend">-</div>
      </div>
    </div>
    <div class="formula-box no-print" style="padding:0.5rem 0.8rem; margin-top:0.8rem; font-size:0.72rem; line-height:1.5;">
      <div style="font-weight:600; color:var(--primary); margin-bottom:0.2rem;">Références — Valeurs normales</div>
      <div style="color:var(--text-light);">
        • Indice d'élimination à 20 min (1 − counts<sub>20min</sub>/counts<sub>max</sub>) : norme &gt; 70% — ratio 20min/max cortical moyen = 0.19 ± 0.07<br>
        <span style="font-style:italic;">Esteves FP, Taylor A et al. 99mTc-MAG3 Renography: Normal Values for MAG3 Clearance and Curve Parameters, Excretory Parameters, and Residual Urine Volume. AJR 2006;187:W610-W617</span><br>
        • NORA (Normalized Residual Activity) à 20 min : 90<sup>e</sup> percentile = 0.70<br>
        <span style="font-style:italic;">Piepsz A, Tondeur M, Ham H. Normalized Residual Activity: Usual Values and Robustness of the Method. J Nucl Med 2002;43:33-38</span><br>
        • Guidelines : <span style="font-style:italic;">Blaufox MD, De Palma D, Taylor A et al. The SNMMI and EANM Practice Guideline for Renal Scintigraphy in Adults. Eur J Nucl Med Mol Imaging 2018;45:2218-2228</span>
      </div>
    </div>
    <div class="btn-row">
      <button class="btn btn-primary" onclick="calcMAG3()">Calculer</button>
      <button class="btn btn-secondary" onclick="resetModule('mag3')">Réinitialiser</button>
      <button class="btn btn-secondary" onclick="window.print()">Imprimer</button>
    </div>
  </div>
</div>

<!-- ==================== DATSCAN ==================== -->
<div id="mod-datscan" class="module">
  <h2>DaTSCAN</h2>
  <p class="description">Index de Captation Striatale (ICS)</p>

  <div class="card">
    <h3>Informations Patient</h3>
    <div class="patient-info">
      <div class="form-group"><label>ID PATIENT (NIP)</label><input type="text" id="datscan-ipp"></div>
      <div class="form-group"><label>Date de l'examen</label><input type="date" id="datscan-date"></div>
    </div>
  </div>

  <div class="card">
    <h3>Données d'acquisition (counts)</h3>
    <div class="form-grid three-col">
      <div></div>
      <div style="font-weight:600; font-size:0.85rem; color:var(--primary); text-align:center">ROI Droit</div>
      <div style="font-weight:600; font-size:0.85rem; color:var(--primary); text-align:center">ROI Gauche</div>

      <div class="form-group"><label>Noyau Caudé</label></div>
      <div class="form-group"><input type="number" id="datscan-caude-d" oninput="calcDatscan()"></div>
      <div class="form-group"><input type="number" id="datscan-caude-g" oninput="calcDatscan()"></div>

      <div class="form-group"><label>Putamen</label></div>
      <div class="form-group"><input type="number" id="datscan-putamen-d" oninput="calcDatscan()"></div>
      <div class="form-group"><input type="number" id="datscan-putamen-g" oninput="calcDatscan()"></div>

      <div class="form-group"><label>Corps Striés</label></div>
      <div class="form-group"><input type="number" id="datscan-stries-d" oninput="calcDatscan()"></div>
      <div class="form-group"><input type="number" id="datscan-stries-g" oninput="calcDatscan()"></div>

      <div class="form-group"><label>Occiput (référence)</label></div>
      <div class="form-group"><input type="number" id="datscan-occiput" oninput="calcDatscan()"></div>
      <div></div>
    </div>
  </div>

  <div class="card">
    <h3>Résultats - Index de Captation Striatale (ICS)</h3>
    <div class="results-grid">
      <div class="result-item">
        <div class="label">ICS Noyau Caudé Droit</div>
        <div class="value" id="datscan-val-caude-d">-</div>
        <div class="norm">Norme : > 2.2</div>
      </div>
      <div class="result-item">
        <div class="label">ICS Noyau Caudé Gauche</div>
        <div class="value" id="datscan-val-caude-g">-</div>
        <div class="norm">Norme : > 2.2</div>
      </div>
      <div class="result-item">
        <div class="label">ICS Putamen Droit</div>
        <div class="value" id="datscan-val-putamen-d">-</div>
        <div class="norm">Norme : > 1.5</div>
      </div>
      <div class="result-item">
        <div class="label">ICS Putamen Gauche</div>
        <div class="value" id="datscan-val-putamen-g">-</div>
        <div class="norm">Norme : > 1.5</div>
      </div>
      <div class="result-item">
        <div class="label">ICS Corps Striés Droit</div>
        <div class="value" id="datscan-val-stries-d">-</div>
        <div class="norm">Norme : > 1.8</div>
      </div>
      <div class="result-item">
        <div class="label">ICS Corps Striés Gauche</div>
        <div class="value" id="datscan-val-stries-g">-</div>
        <div class="norm">Norme : > 1.8</div>
      </div>
    </div>
    <div class="btn-row">
      <button class="btn btn-primary" onclick="calcDatscan()">Calculer</button>
      <button class="btn btn-secondary" onclick="resetModule('datscan')">Réinitialiser</button>
      <button class="btn btn-secondary" onclick="window.print()">Imprimer</button>
    </div>
  </div>
</div>

<!-- ==================== THYROIDE ==================== -->
<div id="mod-thyroide" class="module active">
  <h2>Traitement I-131 — Pathologies thyroïdiennes bénignes (non tumorales)</h2>
  <p class="description">Calcul d'activité par la formule de Marinelli (méthode dosimétrique)</p>

  <div class="card">
    <h3>Informations Patient &amp; Contexte Clinique</h3>
    <div class="patient-info-3">
      <div class="form-group"><label>ID PATIENT (NIP)</label><input type="text" id="thy-ipp"></div>
      <div class="form-group"><label>Date de l'examen</label><input type="date" id="thy-date"></div>
      <div class="form-group"><label>Médecin prescripteur</label><input type="text" id="thy-medecin"></div>
      <div class="form-group"><label>Diagnostic</label>
        <select id="thy-diagnostic" onchange="onThyDiagnosticChange()">
          <option value="unifocale">Autonomie unifocale</option>
          <option value="multifocale">Autonomie multifocale</option>
          <option value="disseminee">Autonomie disséminée</option>
          <option value="basedow_ablative">Maladie de Basedow (ablative)</option>
          <option value="basedow_optim">Maladie de Basedow (optimisation fonctionnelle)</option>
          <option value="goitre">Goître : diminution de volume</option>
        </select>
      </div>
      <div class="form-group"><label>Statut thyroïdien</label>
        <select id="thy-statut" onchange="onThyDiagnosticChange()">
          <option value="euthyroidie">Euthyroïdie</option>
          <option value="hyperthyroidie">Hyperthyroïdie</option>
        </select>
      </div>
      <div class="form-group"><label>Grossesse</label>
        <select id="thy-grossesse" onchange="onThyGrossesseChange()"><option>NON</option><option>OUI</option></select>
      </div>
    </div>
  </div>

  <div class="card">
    <h3>Volume thyroïdien échographique</h3>
    <div>
      <div style="font-weight:600;font-size:0.85rem;color:var(--primary);margin-bottom:0.3rem;">Lobe Droit</div>
      <div style="display:flex;gap:0.8rem;margin-bottom:0.5rem;">
        <div class="form-group" style="flex:1"><label>A <span class="unit">(mm)</span></label><input type="number" id="thy-a-d" oninput="calcThyVolume()"></div>
        <div class="form-group" style="flex:1"><label>B <span class="unit">(mm)</span></label><input type="number" id="thy-b-d" oninput="calcThyVolume()"></div>
        <div class="form-group" style="flex:1"><label>C <span class="unit">(mm)</span></label><input type="number" id="thy-c-d" oninput="calcThyVolume()"></div>
      </div>
      <div style="font-weight:600;font-size:0.85rem;color:var(--primary);margin-bottom:0.3rem;">Lobe Gauche</div>
      <div style="display:flex;gap:0.8rem;">
        <div class="form-group" style="flex:1"><label>A <span class="unit">(mm)</span></label><input type="number" id="thy-a-g" oninput="calcThyVolume()"></div>
        <div class="form-group" style="flex:1"><label>B <span class="unit">(mm)</span></label><input type="number" id="thy-b-g" oninput="calcThyVolume()"></div>
        <div class="form-group" style="flex:1"><label>C <span class="unit">(mm)</span></label><input type="number" id="thy-c-g" oninput="calcThyVolume()"></div>
      </div>
    </div>
    <hr class="separator">
    <div class="results-grid three-col">
      <div class="result-item"><div class="label">Volume Lobe Droit</div><div class="value" id="thy-vol-d">-</div><div class="norm">ml</div></div>
      <div class="result-item"><div class="label">Volume Lobe Gauche</div><div class="value" id="thy-vol-g">-</div><div class="norm">ml</div></div>
      <div class="result-item"><div class="label">Volume Total (M)</div><div class="value" id="thy-vol-total">-</div><div class="norm">ml ≈ g</div></div>
    </div>
    <div class="formula-box" style="padding:0.4rem 0.7rem; margin-top:0.5rem;">
      <div style="font-size:0.72rem; font-weight:600; color:var(--primary); margin-bottom:0.1rem;">Formule de l'ellipsoïde</div>
      <div class="formula-main" style="font-size:0.88rem; margin:0.1rem 0; padding:0.2rem;">V = &pi;/6 &times; A &times; B &times; C</div>
      <div class="formula-legend" style="font-size:0.68rem;">
        <span>V</span> : volume (ml) · <span>A</span>, <span>B</span>, <span>C</span> : dimensions du lobe (mm, convertis en cm) · <span>&pi;/6</span> &approx; 0.524
      </div>
    </div>
  </div>

  <div style="display:flex; gap:1rem; align-items:flex-start;">
    <!-- Colonne gauche : Calcul Marinelli -->
    <div class="card" style="flex:1; min-width:0;">
      <h3>Calcul d'Activité I-131 — Formule de Marinelli</h3>
      <div class="form-grid">
        <div class="form-group">
          <label>Dose cible — D <span class="unit">(Gy)</span> <span class="auto-tag">← auto</span></label>
          <input type="number" id="thy-dose" oninput="calcThyroide()" class="auto-filled">
        </div>
        <div class="form-group">
          <label>Période effective — T<sub>eff</sub> <span class="unit">(j)</span> <span class="auto-tag">← auto</span></label>
          <input type="number" id="thy-demivie" step="0.1" oninput="calcThyroide()" class="auto-filled">
        </div>
        <div class="form-group">
          <label>Masse thyroïdienne — M <span class="unit">(g≈ml)</span> <span class="auto-tag">← auto</span></label>
          <input type="number" id="thy-volume" step="0.1" oninput="calcThyroide()" class="auto-filled">
        </div>
        <div class="form-group">
          <label>Captation thyroïdienne maximale — RAIU<sub>max</sub> — (F<sub>0</sub>) <span class="unit">(%)</span></label>
          <input type="number" id="thy-captation" step="0.1" oninput="calcThyroide()">
        </div>
      </div>
      <hr class="separator">
      <div style="display:flex; align-items:center; gap:0.8rem; margin-bottom:0.5rem;">
        <span style="font-size:0.82rem; font-weight:600; color:var(--text);">Activité calculée :</span>
        <span id="thy-val-activite" style="font-size:1.1rem; font-weight:700; color:var(--primary);">-</span>
        <span style="font-size:0.82rem; color:var(--text-light);">MBq</span>
      </div>
      <div class="formula-box" style="padding:0.4rem 0.7rem;">
        <div style="font-size:0.72rem; font-weight:600; color:var(--primary); margin-bottom:0.1rem;">Formule de Marinelli</div>
        <div class="formula-main" style="font-size:0.88rem; margin:0.1rem 0; padding:0.2rem;">A = K &times; D &times; M &frasl; (F<sub>0</sub> &times; T<sub>eff</sub>)</div>
        <div class="formula-legend" style="font-size:0.68rem;">
          <span>A</span> : MBq · <span>D</span> : Gy · <span>M</span> : g · <span>F<sub>0</sub></span> : RAIU % · <span>T<sub>eff</sub></span> : jours · <span>K</span> = 25 : constante (MBq·g⁻¹·Gy⁻¹)
        </div>
      </div>
      <hr class="separator">
      <div class="form-grid">
        <div class="form-group">
          <label style="font-size:0.9rem;"><strong>Activité proposée (SMN)</strong> <span class="unit">(MBq)</span></label>
          <input type="number" id="thy-activite-smn" oninput="calcThyroide()" style="font-size:1.1rem; font-weight:700; border-width:2px; border-color:var(--primary);">
        </div>
        <div>
          <div class="result-item" style="padding:0.5rem 0.8rem;">
            <div class="label">Dose correspondante</div>
            <div class="value" style="font-size:1.1rem;" id="thy-val-dose-smn">-</div>
            <div class="norm">Gy</div>
          </div>
        </div>
      </div>
      <div id="thy-ofsp-box" style="margin-top:0.8rem; padding:0.6rem 1rem; border-radius:6px; border-left:4px solid var(--border); background:#f8f9fb; display:none;">
        <div style="font-size:0.82rem; font-weight:600; color:var(--primary); margin-bottom:0.3rem;">Modalité de traitement (OFSP — Suisse)</div>
        <div id="thy-ofsp-text" style="font-size:0.9rem; font-weight:600;">-</div>
      </div>
    </div>
    <!-- Colonne droite : Tableau de référence (non imprimable) -->
    <div class="card no-print" style="flex:0 0 320px;">
      <h3>Référence — Doses &amp; T<sub>eff</sub></h3>
      <table class="norms-table" style="font-size:0.78rem;">
        <tr><th>Pathologie</th><th>D (Gy)</th><th>T<sub>eff</sub> eu.</th><th>T<sub>eff</sub> hyp.</th></tr>
        <tr><td>Unifocale</td><td>300-400</td><td>4.8 j</td><td>4.2 j</td></tr>
        <tr><td>Multifocale</td><td>150</td><td>5.5 j</td><td>4.8 j</td></tr>
        <tr><td>Disséminée</td><td>150</td><td>5.5 j</td><td>4.8 j</td></tr>
        <tr><td>Basedow (abl.)</td><td>200-300</td><td>-</td><td>4.2 j</td></tr>
        <tr><td>Basedow (opt.)</td><td>150</td><td>-</td><td>4.2 j</td></tr>
        <tr><td>Goître</td><td>120-150</td><td>5.5 j</td><td>-</td></tr>
      </table>
    </div>
  </div>

  <div class="btn-row">
    <button class="btn btn-primary" onclick="calcThyroide()">Calculer</button>
    <button class="btn btn-secondary" onclick="resetModule('thyroide')">Réinitialiser</button>
    <button class="btn btn-secondary" onclick="window.print()">Imprimer</button>
  </div>
</div>

<!-- ==================== GFR ==================== -->
<div id="mod-gfr" class="module">
  <h2>Clairance GFR — DTPA / EDTA</h2>
  <p class="description">Méthode monoexponentielle (prélèvement tardif unique) — BNMS 2018 (Burniston et al.)</p>

  <div class="card">
    <h3>1 — Informations patient</h3>
    <div class="form-grid">
      <div class="form-group"><label>ID Patient (NIP)</label><input type="text" id="gfr-ipp"></div>
      <div class="form-group"><label>Date de l'examen</label><input type="date" id="gfr-date"></div>
      <div class="form-group"><label>Date de naissance</label><input type="date" id="gfr-ddn"></div>
      <div class="form-group"><label>Sexe</label>
        <select id="gfr-sexe" onchange="calcGFR()">
          <option value="">— Choisir —</option>
          <option value="M">Masculin</option>
          <option value="F">Féminin</option>
        </select>
      </div>
      <div class="form-group"><label>Taille <span class="unit">(cm)</span></label><input type="number" id="gfr-taille" min="50" max="250" oninput="calcGFR()"></div>
      <div class="form-group"><label>Poids actuel <span class="unit">(kg)</span></label><input type="number" id="gfr-poids" step="0.1" oninput="calcGFR()"></div>
      <div class="form-group"><label>Surface corporelle — BSA Haycock <span class="unit">(m²)</span></label><input type="number" id="gfr-bsa" readonly></div>
    </div>
    <div style="margin-top:0.8rem;">
      <div class="info-box" id="gfr-sampling-tip">ℹ Entrez le poids et la taille pour afficher l'heure de prélèvement recommandée.</div>
    </div>
  </div>

  <div class="card">
    <h3>2 — Radiopharmaceutique & Kit</h3>
    <div class="form-grid">
      <div class="form-group"><label>Radiopharmaceutique</label>
        <select id="gfr-rp" onchange="calcGFR()">
          <option value="dtpa">⁹⁹ᵐTc-DTPA</option>
          <option value="edta">⁵¹Cr-EDTA</option>
        </select>
      </div>
      <div class="form-group"><label>N° de lot du kit</label><input type="text" id="gfr-lot"></div>
      <div class="form-group"><label>Date de péremption du kit</label><input type="date" id="gfr-peremption"></div>
      <div class="form-group"><label>Activité nominale du kit <span class="unit">(MBq)</span></label><input type="number" id="gfr-activite-nominale" step="0.1" oninput="calcGFR()"></div>
    </div>
  </div>

  <div class="card">
    <h3>3 — Préparation de l'étalon (standard)</h3>
    <div class="section-label no-print">Méthode de dilution</div>
    <div class="method-toggle no-print">
      <button class="method-btn active" id="btn-vol" onclick="setMethod('vol')">Volumétrique</button>
      <button class="method-btn" id="btn-pes" onclick="setMethod('pes')">Par pesée</button>
    </div>
    <div id="sec-vol">
      <div class="info-box">Préparer l'étalon par <strong>dilution volumétrique</strong> : prélever un volume précis de la dose (V<sub>dose</sub>) et compléter à un volume total V<sub>total</sub> connu avec du sérum physiologique.<br><em>Exemple typique : 1 mL dose → 500 mL total (dilution 1/500).</em></div>
      <div class="form-grid">
        <div class="form-group"><label>Volume prélevé pour l'étalon — V<sub>dose</sub> <span class="unit">(mL)</span></label><input type="number" id="gfr-vol-dose" step="0.001" min="0" oninput="calcGFR()"></div>
        <div class="form-group"><label>Volume total du standard — V<sub>total</sub> <span class="unit">(mL)</span></label><input type="number" id="gfr-vol-total" step="0.1" min="0" oninput="calcGFR()"></div>
        <div class="form-group"><label>Facteur de dilution <span class="unit">(calculé)</span></label><input type="number" id="gfr-dilution-vol" readonly></div>
      </div>
    </div>
    <div id="sec-pes" class="hidden">
      <div class="info-box">Préparer l'étalon par <strong>pesée</strong> : tarer la seringue, noter le poids avant (P<sub>avant</sub>) et après injection (P<sub>après</sub>), puis le poids du flacon standard rempli (P<sub>flacon+</sub>) et vide (P<sub>flacon−</sub>).<br><em>Facteur de dilution = (P<sub>flacon+</sub> − P<sub>flacon−</sub>) / (P<sub>avant</sub> − P<sub>après</sub>).</em></div>
      <div class="form-grid">
        <div class="form-group"><label>Poids seringue avant — P<sub>avant</sub> <span class="unit">(g)</span></label><input type="number" id="gfr-pes-avant" step="0.01" oninput="calcGFR()"></div>
        <div class="form-group"><label>Poids seringue après — P<sub>après</sub> <span class="unit">(g)</span></label><input type="number" id="gfr-pes-apres" step="0.01" oninput="calcGFR()"></div>
        <div class="form-group"><label>Poids flacon standard plein — P<sub>flacon+</sub> <span class="unit">(g)</span></label><input type="number" id="gfr-pes-flacon-plein" step="0.01" oninput="calcGFR()"></div>
        <div class="form-group"><label>Poids flacon standard vide — P<sub>flacon−</sub> <span class="unit">(g)</span></label><input type="number" id="gfr-pes-flacon-vide" step="0.01" oninput="calcGFR()"></div>
        <div class="form-group"><label>Facteur de dilution <span class="unit">(calculé)</span></label><input type="number" id="gfr-dilution-pes" readonly></div>
      </div>
    </div>
  </div>

  <div class="card">
    <h3>4 — Injection</h3>
    <div class="form-grid">
      <div class="form-group"><label>Heure d'injection <span class="unit">(HH:MM)</span></label><input type="time" id="gfr-t-inj" oninput="calcGFR()"></div>
      <div class="form-group"><label>Activité injectée <span class="unit">(MBq)</span></label><input type="number" id="gfr-activite-inj" step="0.1" oninput="calcGFR()"></div>
    </div>
    <div class="info-box" style="margin-top:0.6rem; font-size:0.8rem;">ℹ Flush de 10 mL de NaCl 0,9% après injection. Vérifier l'absence d'extravasation avant de valider l'examen.</div>
  </div>

  <div class="card">
    <h3>5 — Prélèvement plasmatique</h3>
    <div class="info-box" id="gfr-prelevements-info">ℹ Méthode à <strong>prélèvement unique tardif</strong> (monoexponentielle, Fleming eq.5).<br>Heure cible : <strong id="gfr-heure-cible">— entrez le poids/taille —</strong><br><span style="font-size:0.78rem; color:#1a5276;">La fenêtre acceptable est ±10 min autour de l'heure calculée.</span></div>
    <div class="form-grid">
      <div class="form-group"><label>Heure de prélèvement <span class="unit">(HH:MM)</span></label><input type="time" id="gfr-t-prel" oninput="calcGFR()"></div>
      <div class="form-group"><label>Délai injection→prélèvement <span class="unit">(min, calculé)</span></label><input type="number" id="gfr-delai" readonly></div>
    </div>
  </div>

  <div class="card">
    <h3>6 — Comptage (puits γ ou scintillateur)</h3>
    <div class="section-label">Bruit de fond</div>
    <div class="form-grid">
      <div class="form-group"><label>Bruit de fond — B <span class="unit">(cpm ou cps)</span></label><input type="number" id="gfr-bg" step="0.1" oninput="calcGFR()"></div>
    </div>
    <hr class="separator">
    <div class="section-label">Standard (étalon — en double)</div>
    <div class="info-box" style="font-size:0.79rem;">Compter l'étalon en double. Si les deux valeurs diffèrent de plus de 1% → recompter.</div>
    <div class="form-grid">
      <div class="form-group"><label>Standard 1 <span class="unit">(brut, cpm ou cps)</span></label><input type="number" id="gfr-std1" step="0.1" oninput="calcGFR()"></div>
      <div class="form-group"><label>Standard 2 <span class="unit">(brut, cpm ou cps)</span></label><input type="number" id="gfr-std2" step="0.1" oninput="calcGFR()"></div>
      <div class="form-group"><label>Moyenne standard nette <span class="unit">(calculée)</span></label><input type="number" id="gfr-std-mean" readonly></div>
      <div class="form-group"><label>Écart duplicats standard <span class="unit">(%, calculé)</span></label><input type="number" id="gfr-std-cv" readonly></div>
    </div>
    <hr class="separator">
    <div class="section-label">Plasma patient (en double)</div>
    <div class="form-grid">
      <div class="form-group"><label>Plasma 1 <span class="unit">(brut, cpm ou cps)</span></label><input type="number" id="gfr-plas1" step="0.1" oninput="calcGFR()"></div>
      <div class="form-group"><label>Plasma 2 <span class="unit">(brut, cpm ou cps)</span></label><input type="number" id="gfr-plas2" step="0.1" oninput="calcGFR()"></div>
      <div class="form-group"><label>Moyenne plasma nette <span class="unit">(calculée)</span></label><input type="number" id="gfr-plas-mean" readonly></div>
      <div class="form-group"><label>Écart duplicats plasma <span class="unit">(%, calculé)</span></label><input type="number" id="gfr-plas-cv" readonly></div>
    </div>
  </div>

  <div class="card">
    <h3>7 — Contrôle qualité (BNMS 2018 — Table 2)</h3>
    <div id="gfr-qc-list">
      <div class="qc-item" id="qc-duplicat-std"><span class="qc-label">Écart duplicats standard</span><span class="qc-val" id="qc-std-val">—</span><span class="qc-limit">Limite : &lt; 1%</span></div>
      <div class="qc-item" id="qc-duplicat-plas"><span class="qc-label">Écart duplicats plasma</span><span class="qc-val" id="qc-plas-val">—</span><span class="qc-limit">Limite : &lt; 3%</span></div>
      <div class="qc-item" id="qc-delai"><span class="qc-label">Délai injection→prélèvement</span><span class="qc-val" id="qc-delai-val">—</span><span class="qc-limit" id="qc-delai-limit">Cible ± 10 min</span></div>
      <div class="qc-item" id="qc-plasma-net"><span class="qc-label">Comptage plasma net &gt; bruit de fond</span><span class="qc-val" id="qc-plasma-net-val">—</span><span class="qc-limit">Plasma net &gt; 0</span></div>
      <div class="qc-item" id="qc-ratio-plasma"><span class="qc-label">Ratio plasma/standard (Cp/Cs)</span><span class="qc-val" id="qc-ratio-val">—</span><span class="qc-limit">Plausibilité : 0,001 – 0,3</span></div>
    </div>
    <div class="formula-box no-print" style="margin-top:0.8rem; font-size:0.78rem;">
      <div style="font-weight:600; color:var(--primary); margin-bottom:0.3rem;">Référence guideline</div>
      <div style="color:var(--text-light); line-height:1.5;">Burniston MT, Fleming JS, Barratt LJ, et al. <em>Recommendations for the measurement of GFR by plasma sampling. Nuclear Medicine Communications</em> 2018;39(11):1026–1031.<br>Fleming JS. <em>A simplified method for the measurement of GFR using a single injection of 99mTc-DTPA.</em> Nucl Med Commun 2007;28:956–961.</div>
    </div>
  </div>

  <div class="card">
    <h3>8 — Résultats</h3>
    <div class="results-grid">
      <div class="result-item full" id="gfr-res-gfr-abs">
        <div class="label">GFR absolu (non corrigé à la BSA)</div>
        <div class="value" id="gfr-val-gfr-abs">—</div>
        <div class="norm">mL/min</div>
      </div>
      <div class="result-item full" id="gfr-res-gfr-corr">
        <div class="label">GFR corrigé à 1,73 m² (indexé BSA)</div>
        <div class="value" id="gfr-val-gfr-corr">—</div>
        <div class="norm" id="gfr-norm-corr">mL/min/1,73m² — Norme selon l'âge et le sexe</div>
      </div>
      <div class="result-item" id="gfr-res-gref" style="display:none">
        <div class="label">GFR (correction Gref-Karp — si &lt; 25 mL/min)</div>
        <div class="value" id="gfr-val-gref">—</div>
        <div class="norm">mL/min (Gref &amp; Karp eq.7-8)</div>
      </div>
      <div class="result-item">
        <div class="label">Délai injection→prélèvement utilisé</div>
        <div class="value" id="gfr-val-delai">—</div>
        <div class="norm">minutes</div>
      </div>
    </div>
    <div class="formula-box no-print" style="margin-top:0.8rem;">
      <div class="formula-title">Valeurs de référence GFR indexé — BNMS 2018 (mL/min/1,73 m²)</div>
      <div style="display:grid; grid-template-columns:1fr 1fr 1fr; gap:0 0.5rem; margin:0.5rem 0;">
        <div style="font-weight:700; font-size:0.8rem; color:var(--primary); padding:0.2rem 0.4rem; border-bottom:1px solid var(--border);">Âge</div>
        <div style="font-weight:700; font-size:0.8rem; color:var(--primary); padding:0.2rem 0.4rem; border-bottom:1px solid var(--border); text-align:center;">♂ Homme</div>
        <div style="font-weight:700; font-size:0.8rem; color:var(--primary); padding:0.2rem 0.4rem; border-bottom:1px solid var(--border); text-align:center;">♀ Femme</div>
        <div style="font-size:0.8rem; padding:0.18rem 0.4rem;">20–29 ans</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center;">116 ± 10</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center;">109 ± 13</div>
        <div style="font-size:0.8rem; padding:0.18rem 0.4rem; background:#f8f9fb;">30–39 ans</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center; background:#f8f9fb;">107 ± 14</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center; background:#f8f9fb;">100 ± 13</div>
        <div style="font-size:0.8rem; padding:0.18rem 0.4rem;">40–49 ans</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center;">99 ± 11</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center;">92 ± 14</div>
        <div style="font-size:0.8rem; padding:0.18rem 0.4rem; background:#f8f9fb;">50–59 ans</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center; background:#f8f9fb;">93 ± 13</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center; background:#f8f9fb;">85 ± 13</div>
        <div style="font-size:0.8rem; padding:0.18rem 0.4rem;">60–69 ans</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center;">85 ± 13</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center;">78 ± 13</div>
        <div style="font-size:0.8rem; padding:0.18rem 0.4rem; background:#f8f9fb;">≥ 70 ans</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center; background:#f8f9fb;">75 ± 12</div><div style="font-size:0.8rem; padding:0.18rem 0.4rem; text-align:center; background:#f8f9fb;">68 ± 12</div>
      </div>
      <div class="formula-legend">CKD-EPI staging : &gt;90 = G1 &nbsp;|&nbsp; 60–89 = G2 &nbsp;|&nbsp; 45–59 = G3a &nbsp;|&nbsp; 30–44 = G3b &nbsp;|&nbsp; 15–29 = G4 &nbsp;|&nbsp; &lt;15 = G5</div>
    </div>
    <div class="formula-box no-print" style="margin-top:0.6rem;">
      <div class="formula-title">Formule de Fleming (eq. 5) — Monoexponentielle</div>
      <div class="formula-main">GFR = −(V<sub>d</sub> / T) × ln(C<sub>p</sub> / (C<sub>s</sub> × F × V<sub>d</sub>))</div>
      <div class="formula-legend">
        <span>V<sub>d</sub></span> = volume de distribution (≈ 176,3 × poids, mL) &nbsp;|&nbsp;
        <span>T</span> = délai injection→prélèvement (min) &nbsp;|&nbsp;
        <span>C<sub>p</sub></span> = comptage plasma net &nbsp;|&nbsp;
        <span>C<sub>s</sub></span> = comptage standard net &nbsp;|&nbsp;
        <span>F</span> = facteur de dilution<br>
        <em>Fleming JS. Nucl Med Commun 2007;28:956–961</em>
      </div>
    </div>
    <div class="btn-row">
      <button class="btn btn-primary" onclick="calcGFR()">Calculer</button>
      <button class="btn btn-secondary" onclick="resetModule('gfr')">Réinitialiser</button>
      <button class="btn btn-secondary" onclick="window.print()">Imprimer</button>
    </div>
  </div>
</div>

<!-- ==================== SHUNT CÉRÉBRAL ==================== -->
<div id="mod-shunt_simple" class="module">
  <h2>Shunt Cérébral</h2>
  <p class="description">Avec correction du bruit de fond (BF global et BF par région)</p>

  <div class="card">
    <h3>Informations Patient</h3>
    <div class="patient-info">
      <div class="form-group"><label>ID PATIENT (NIP)</label><input type="text" id="shunts-ipp"></div>
      <div class="form-group"><label>Date de l'examen</label><input type="date" id="shunts-date"></div>
    </div>
  </div>

  <div class="card">
    <h3>Données d'acquisition</h3>
    <div class="form-grid three-col">
      <div></div>
      <div style="font-weight:600;font-size:0.85rem;color:var(--primary);text-align:center">Surface ROI (px)</div>
      <div style="font-weight:600;font-size:0.85rem;color:var(--primary);text-align:center">Counts</div>

      <div class="form-group"><label>Cerveau</label></div>
      <div class="form-group"><input type="number" id="shunts-cerv-px" oninput="calcShuntSimple()"></div>
      <div class="form-group"><input type="number" id="shunts-cerv-ct" oninput="calcShuntSimple()"></div>

      <div class="form-group"><label>BF Cerveau</label></div>
      <div class="form-group"><input type="number" id="shunts-bfcerv-px" oninput="calcShuntSimple()"></div>
      <div class="form-group"><input type="number" id="shunts-bfcerv-ct" oninput="calcShuntSimple()"></div>

      <div class="form-group"><label>Poumon Gauche</label></div>
      <div class="form-group"><input type="number" id="shunts-pg-px" oninput="calcShuntSimple()"></div>
      <div class="form-group"><input type="number" id="shunts-pg-ct" oninput="calcShuntSimple()"></div>

      <div class="form-group"><label>Poumon Droit</label></div>
      <div class="form-group"><input type="number" id="shunts-pd-px" oninput="calcShuntSimple()"></div>
      <div class="form-group"><input type="number" id="shunts-pd-ct" oninput="calcShuntSimple()"></div>

      <div class="form-group"><label>BF Poumon Gauche</label></div>
      <div class="form-group"><input type="number" id="shunts-bfpg-px" oninput="calcShuntSimple()"></div>
      <div class="form-group"><input type="number" id="shunts-bfpg-ct" oninput="calcShuntSimple()"></div>

      <div class="form-group"><label>BF Poumon Droit</label></div>
      <div class="form-group"><input type="number" id="shunts-bfpd-px" oninput="calcShuntSimple()"></div>
      <div class="form-group"><input type="number" id="shunts-bfpd-ct" oninput="calcShuntSimple()"></div>

      <div class="form-group"><label>Bruit de Fond Global</label></div>
      <div class="form-group"><input type="number" id="shunts-bf-px" oninput="calcShuntSimple()"></div>
      <div class="form-group"><input type="number" id="shunts-bf-ct" oninput="calcShuntSimple()"></div>
    </div>
  </div>

  <div class="card">
    <h3>Résultats</h3>
    <div class="results-grid">
      <div class="result-item" id="shunts-res-global">
        <div class="label">Indice de Shunt (correction BF global)</div>
        <div class="value" id="shunts-val-global">-</div>
        <div class="norm">%</div>
      </div>
      <div class="result-item" id="shunts-res-region">
        <div class="label">Indice de Shunt (correction BF/région)</div>
        <div class="value" id="shunts-val-region">-</div>
        <div class="norm">%</div>
      </div>
    </div>
    <table class="norms-table" style="margin-top:1rem">
      <tr><th>Interprétation</th><th>Valeur (%)</th></tr>
      <tr><td>Norme</td><td>&lt; 0.33</td></tr>
      <tr><td>Shunt non clinique</td><td>0.33 - 0.89</td></tr>
      <tr><td>Shunt modéré</td><td>0.9 - 1.99</td></tr>
      <tr><td>Shunt hautement pathologique</td><td>&gt; 2</td></tr>
    </table>
    <div class="btn-row">
      <button class="btn btn-primary" onclick="calcShuntSimple()">Calculer</button>
      <button class="btn btn-secondary" onclick="resetModule('shunt_simple')">Réinitialiser</button>
      <button class="btn btn-secondary" onclick="window.print()">Imprimer</button>
    </div>
  </div>
</div>

<!-- ==================== SHUNT SIRT ==================== -->
<div id="mod-shunt_sirt" class="module">
  <h2>Shunt Pulmonaire</h2>
  <p class="description">Calcul du shunt hépato-pulmonaire par moyenne géométrique (AP/PA)</p>

  <div class="card">
    <h3>Informations Patient</h3>
    <div class="patient-info">
      <div class="form-group"><label>ID PATIENT (NIP)</label><input type="text" id="sirt-ipp"></div>
      <div class="form-group"><label>Date de l'examen</label><input type="date" id="sirt-date"></div>
    </div>
  </div>

  <div class="card">
    <h3>Données d'acquisition (Total Counts)</h3>
    <p style="font-size:0.78rem; color:var(--text-light); margin-bottom:0.5rem; font-style:italic;">⚠ Les ROI doivent être identiques entre AP et PA (copier/coller en miroir), sinon les résultats seront faux.</p>
    <div class="form-grid three-col">
      <div></div>
      <div style="font-weight:600;font-size:0.85rem;color:var(--primary);text-align:center">Foie</div>
      <div style="font-weight:600;font-size:0.85rem;color:var(--primary);text-align:center">Poumons</div>

      <div class="form-group"><label>AP (antérieur)</label></div>
      <div class="form-group"><input type="number" id="sirt-foie-ap" oninput="calcSIRT()"></div>
      <div class="form-group"><input type="number" id="sirt-poumon-ap" oninput="calcSIRT()"></div>

      <div class="form-group"><label>PA (postérieur)</label></div>
      <div class="form-group"><input type="number" id="sirt-foie-pa" oninput="calcSIRT()"></div>
      <div class="form-group"><input type="number" id="sirt-poumon-pa" oninput="calcSIRT()"></div>
    </div>
  </div>

  <div class="card">
    <h3>Résultats</h3>
    <div class="results-grid three-col">
      <div class="result-item">
        <div class="label">Shunt AP</div>
        <div class="value" id="sirt-val-ap">-</div>
        <div class="norm">%</div>
      </div>
      <div class="result-item">
        <div class="label">Shunt PA</div>
        <div class="value" id="sirt-val-pa">-</div>
        <div class="norm">%</div>
      </div>
      <div class="result-item" id="sirt-res-geo">
        <div class="label">Shunt Moyenne Géométrique</div>
        <div class="value" id="sirt-val-geo">-</div>
        <div class="norm">%</div>
      </div>
    </div>
    <div class="btn-row">
      <button class="btn btn-primary" onclick="calcSIRT()">Calculer</button>
      <button class="btn btn-secondary" onclick="resetModule('shunt_sirt')">Réinitialiser</button>
      <button class="btn btn-secondary" onclick="window.print()">Imprimer</button>
    </div>
  </div>
</div>

<!-- ==================== HBS HÉPATIQUE ==================== -->
<div id="mod-hbs" class="module">
  <h2>HBS — Fonction Hépatique (Mébrofénine)</h2>
  <p class="description">Calcul de la fonction hépatique totale et résiduelle future par cholescintigraphie dynamique au 99mTc-Mébrofénine</p>

  <div class="card">
    <h3>Informations Patient</h3>
    <div class="patient-info-3">
      <div class="form-group"><label>ID PATIENT (NIP)</label><input type="text" id="hbs-ipp"></div>
      <div class="form-group"><label>Date de l'examen</label><input type="date" id="hbs-date"></div>
      <div class="form-group"><label>Activité injectée (MBq)</label><input type="number" id="hbs-activite" value="200"></div>
      <div class="form-group"><label>Taille (cm)</label><input type="number" id="hbs-taille" oninput="calcHBS()"></div>
      <div class="form-group"><label>Poids (kg)</label><input type="number" id="hbs-poids" oninput="calcHBS()"></div>
      <div class="form-group"><label>BSA (m²)</label><input type="number" id="hbs-bsa" readonly></div>
    </div>
  </div>

  <div class="card">
    <h3>Fenêtre temporelle</h3>
    <div class="form-grid">
      <div class="form-group"><label>t1 (sec)</label><input type="number" id="hbs-t1" value="150" oninput="calcHBS()"></div>
      <div class="form-group"><label>t2 (sec)</label><input type="number" id="hbs-t2" value="350" oninput="calcHBS()"></div>
    </div>
  </div>

  <div class="card">
    <h3>Courbes Temps-Activité (kcts/s)</h3>
    <div class="form-grid three-col">
      <div></div>
      <div style="font-weight:600;font-size:0.85rem;color:var(--primary);text-align:center">à t1</div>
      <div style="font-weight:600;font-size:0.85rem;color:var(--primary);text-align:center">à t2</div>

      <div class="form-group"><label>Foie — L (kcts/s)</label></div>
      <div class="form-group"><input type="number" step="any" id="hbs-l-t1" oninput="calcHBS()"></div>
      <div class="form-group"><input type="number" step="any" id="hbs-l-t2" oninput="calcHBS()"></div>

      <div class="form-group"><label>FOV<sub>TOTAL</sub> — F (kcts/s)</label></div>
      <div class="form-group"><input type="number" step="any" id="hbs-f-t1" oninput="calcHBS()"></div>
      <div class="form-group"><input type="number" step="any" id="hbs-f-t2" oninput="calcHBS()"></div>

      <div class="form-group"><label>Blood Pool — C (cts/s)</label></div>
      <div class="form-group"><input type="number" step="any" id="hbs-c-t1" oninput="calcHBS()"></div>
      <div class="form-group"><input type="number" step="any" id="hbs-c-t2" oninput="calcHBS()"></div>
    </div>
  </div>

  <div class="card">
    <h3>Aires sous la courbe (Total Counts)</h3>
    <div style="font-size:0.72rem; color:var(--text-light); line-height:1.4; margin-bottom:0.6rem; padding:0.4rem 0.5rem; background:var(--bg); border-radius:4px; border-left:3px solid var(--primary);">
      <strong>ROI planaires</strong> réalisées sur les clichés dynamiques sommés. Dessiner les ROI du foie, du cœur/vaisseaux et de l'image entière (FOV<sub>TOTAL</sub>).<br>
      <em>Méthode préférentielle :</em> superposition des acquisitions dynamiques sommées antérieure et postérieure (après retournement en miroir de l'image postérieure), puis tracer les ROI sur l'image.<br>
      <em>Alternative :</em> si la superposition/retournement n'est pas possible, additionner les counts des ROI identiques sur les images dynamiques sommées antérieures et postérieures séparément.
    </div>
    <div class="form-grid three-col">
      <div></div>
      <div style="font-weight:600;font-size:0.85rem;color:var(--primary);text-align:center;white-space:nowrap">Aire (cts)</div>
      <div></div>

      <div class="form-group"><label>Aire Foie</label></div>
      <div class="form-group"><input type="number" id="hbs-aire-foie" oninput="calcHBS()"></div>
      <div></div>

      <div class="form-group"><label>Aire FOV<sub>TOTAL</sub></label></div>
      <div class="form-group"><input type="number" id="hbs-aire-fov" oninput="calcHBS()"></div>
      <div></div>

      <div class="form-group"><label>Aire Blood Pool</label></div>
      <div class="form-group"><input type="number" id="hbs-aire-bp" oninput="calcHBS()"></div>
      <div></div>
    </div>
  </div>

  <div class="card">
    <h3>Données SPECT — Volumétrie (OsiriX / autre)</h3>
    <div class="form-grid">
      <div class="form-group"><label>Total Counts — Whole Liver (WL)</label><input type="number" id="hbs-cts-wl" oninput="calcHBS()"></div>
      <div class="form-group"><label>Total Counts — Remnant Liver (RL)</label><input type="number" id="hbs-cts-rl" oninput="calcHBS()"></div>
      <div class="form-group"><label>Volume WL (mL)</label><input type="number" id="hbs-vol-wl" oninput="calcHBS()"></div>
      <div class="form-group"><label>Volume RL (mL)</label><input type="number" id="hbs-vol-rl" oninput="calcHBS()"></div>
    </div>
  </div>

  <div class="card">
    <h3>Résultats</h3>
    <div class="results-grid">
      <div class="result-item" id="hbs-res-tlf">
        <div class="label">Total Liver Function (TL-F)</div>
        <div class="value" id="hbs-val-tlf">-</div>
        <div class="norm" style="font-size:0.65rem; line-height:1.3;">%/min/m²<br>Foie sain : 8.5 ± 1.7<br>Maladie parenchymateuse : 7.4 ± 1.4</div>
      </div>
      <div class="result-item" id="hbs-res-frlf">
        <div class="label">Future Remnant Liver Function (FRL-F)</div>
        <div class="value" id="hbs-val-frlf">-</div>
        <div class="norm">%/min/m² · Seuil : &gt; 2.69</div>
      </div>
    </div>
    <div style="display:flex; gap:0.8rem; margin-top:0.4rem; flex-wrap:wrap;">
      <div style="flex:1; min-width:120px; background:var(--bg); border-radius:6px; padding:0.4rem 0.6rem; text-align:center;">
        <div style="font-size:0.7rem; color:var(--text-light);">Volume WL</div>
        <div style="font-size:0.95rem; font-weight:600;" id="hbs-val-vol-wl">-</div>
        <div style="font-size:0.65rem; color:var(--text-light);">mL</div>
      </div>
      <div style="flex:1; min-width:120px; background:var(--bg); border-radius:6px; padding:0.4rem 0.6rem; text-align:center;">
        <div style="font-size:0.7rem; color:var(--text-light);">Volume RL</div>
        <div style="font-size:0.95rem; font-weight:600;" id="hbs-val-vol-rl">-</div>
        <div style="font-size:0.65rem; color:var(--text-light);">mL</div>
      </div>
      <div style="flex:1; min-width:120px; background:var(--bg); border-radius:6px; padding:0.4rem 0.6rem; text-align:center;">
        <div style="font-size:0.7rem; color:var(--text-light);">Fraction résiduelle</div>
        <div style="font-size:0.95rem; font-weight:600;" id="hbs-val-frac">-</div>
        <div style="font-size:0.65rem; color:var(--text-light);">%</div>
      </div>
    </div>

    <div class="formula-box" style="padding:0.4rem 0.7rem; margin-top:0.5rem;">
      <div style="font-size:0.72rem; font-weight:600; color:var(--primary); margin-bottom:0.1rem;">Formules</div>
      <div class="formula-legend" style="font-size:0.68rem;">
        <span>BSA</span> = √(Taille×Poids/3600) ·
        <span>Cnorm</span> = C(t2)/C(t1) ·
        <span>A(t1)</span> = [F(t2)−L(t1)−(F(t1)−L(t1))×Cnorm] / (1−Cnorm)<br>
        <span>LClr</span> = 100×(L(t2)−L(t1)) / (A(t1)×Aire_BP_norm) ·
        <span>TL-F</span> = LClr×60 / BSA<br>
        <span>FRL-F</span> = TL-F × (Counts_RL / Counts_WL)
      </div>
    </div>

    <div class="formula-box no-print" style="padding:0.5rem 0.8rem; margin-top:0.5rem; font-size:0.72rem; line-height:1.5;">
      <div style="font-weight:600; color:var(--primary); margin-bottom:0.2rem;">Références</div>
      <div style="color:var(--text-light);">
        • de Graaf W, van Lienden KP, Dinant S et al. Assessment of future remnant liver function using hepatobiliary scintigraphy in patients undergoing major liver resection. <span style="font-style:italic;">J Gastrointest Surg</span> 2010;14:369-378<br>
        • Ekman M, Fjälling M, Friman S et al. Liver uptake function measured by IODIDA clearance rate in liver transplant patients and healthy volunteers. <span style="font-style:italic;">Nucl Med Commun</span> 1996;17:53-57
      </div>
    </div>

    <div class="btn-row">
      <button class="btn btn-primary" onclick="calcHBS()">Calculer</button>
      <button class="btn btn-secondary" onclick="resetModule('hbs')">Réinitialiser</button>
      <button class="btn btn-secondary" onclick="window.print()">Imprimer</button>
    </div>
  </div>
</div>

<!-- ==================== HERDER (NPS) ==================== -->
<div id="mod-herder" class="module">
  <h2>Score de Herder — Nodule Pulmonaire Solitaire (NPS)</h2>
  <p class="description">Estimation de la probabilité de malignité d'un nodule pulmonaire solitaire intégrant données cliniques et fixation FDG au PET/CT</p>

  <div class="card">
    <h3>Informations Patient</h3>
    <div class="patient-info-3">
      <div class="form-group"><label>ID PATIENT (NIP)</label><input type="text" id="herder-ipp"></div>
      <div class="form-group"><label>Date de l'examen</label><input type="date" id="herder-date"></div>
    </div>
  </div>

  <div class="card">
    <h3>Données cliniques — Modèle de Swensen (Mayo Clinic)</h3>
    <div class="form-grid">
      <div class="form-group"><label>Âge (années)</label><input type="number" id="herder-age" oninput="calcHerder()"></div>
      <div class="form-group">
        <label>Tabagisme (actuel ou ancien)</label>
        <select id="herder-smoke" onchange="calcHerder()">
          <option value="0">Non</option>
          <option value="1">Oui</option>
        </select>
      </div>
      <div class="form-group">
        <label>ATCD cancer extra-thoracique (&ge; 5 ans)</label>
        <select id="herder-cancer" onchange="calcHerder()">
          <option value="0">Non</option>
          <option value="1">Oui</option>
        </select>
      </div>
      <div class="form-group"><label>Diamètre du nodule (mm)</label><input type="number" step="any" id="herder-diam" oninput="calcHerder()"></div>
      <div class="form-group">
        <label>Spiculation</label>
        <select id="herder-spic" onchange="calcHerder()">
          <option value="0">Non</option>
          <option value="1">Oui</option>
        </select>
      </div>
      <div class="form-group">
        <label>Localisation lobe supérieur</label>
        <select id="herder-upper" onchange="calcHerder()">
          <option value="0">Non</option>
          <option value="1">Oui</option>
        </select>
      </div>
    </div>
  </div>

  <div class="card">
    <h3>Fixation FDG — PET/CT</h3>
    <div class="form-grid">
      <div class="form-group">
        <label>Fixation FDG du nodule</label>
        <select id="herder-fdg" onchange="calcHerder()" style="width:100%;">
          <option value="none">Absente (indiscernable du parenchyme)</option>
          <option value="faint">Discrète (&le; blood pool médiastinal)</option>
          <option value="moderate">Modérée (&gt; blood pool médiastinal)</option>
          <option value="intense">Intense (nettement &gt; blood pool)</option>
        </select>
      </div>
    </div>
  </div>

  <div class="card">
    <h3>Résultats</h3>
    <div class="results-grid">
      <div class="result-item" id="herder-res-herder">
        <div class="label">Probabilité de malignité (Herder)</div>
        <div class="value" id="herder-val-herder">-</div>
        <div class="norm">%</div>
      </div>
    </div>

    <div style="margin-top:0.6rem; font-size:0.72rem; color:var(--text-light); line-height:1.4;">
      <strong>Interprétation :</strong> &lt; 10 % → faible risque (surveillance) · 10–70 % → risque intermédiaire (biopsie / PET si pas encore réalisé) · &gt; 70 % → risque élevé (résection chirurgicale)
    </div>

    <div class="formula-box" style="padding:0.4rem 0.7rem; margin-top:0.5rem;">
      <div style="font-size:0.72rem; font-weight:600; color:var(--primary); margin-bottom:0.1rem;">Formules</div>
      <div class="formula-legend" style="font-size:0.68rem;">
        <span>Swensen/Mayo :</span> x = −6.8272 + 0.0391×âge + 0.7917×tabac + 1.3388×cancer + 0.1274×diamètre + 1.0407×spiculation + 0.7838×lobe_sup<br>
        P<sub>Mayo</sub> = e<sup>x</sup> / (1 + e<sup>x</sup>)<br><br>
        <span>Herder :</span> y = −4.739 + 3.691×P<sub>Mayo</sub> + 2.322×faint + 4.617×moderate + 4.771×intense<br>
        P<sub>Herder</sub> = e<sup>y</sup> / (1 + e<sup>y</sup>)
      </div>
    </div>

    <div class="formula-box no-print" style="padding:0.5rem 0.8rem; margin-top:0.5rem; font-size:0.72rem; line-height:1.5;">
      <div style="font-weight:600; color:var(--primary); margin-bottom:0.2rem;">Références</div>
      <div style="color:var(--text-light);">
        • Swensen SJ, Silverstein MD, Ilstrup DM et al. The probability of malignancy in solitary pulmonary nodules. <span style="font-style:italic;">Arch Intern Med</span> 1997;157:849-855<br>
        • Herder GJ, van Tinteren H, Goldberg RP et al. Clinical prediction model to characterize pulmonary nodules: validation and added value of <sup>18</sup>F-FDG positron emission tomography. <span style="font-style:italic;">Chest</span> 2005;128:2490-2496
      </div>
    </div>

    <div class="btn-row">
      <button class="btn btn-primary" onclick="calcHerder()">Calculer</button>
      <button class="btn btn-secondary" onclick="resetModule('herder')">Réinitialiser</button>
      <button class="btn btn-secondary" onclick="window.print()">Imprimer</button>
    </div>
  </div>
</div>

<script>
/* Copyright (c) Swiss Nuclear Doctors - All Rights Reserved - Unauthorized reproduction prohibited */
;(function(){var _f76df94="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";var _e8a1e6e=62;var _b292c1e=atob(_f76df94);var _1998b8a=new Uint8Array(_b292c1e.length);for(var _f312aa8=0;_f312aa8<_b292c1e.length;_f312aa8++){_1998b8a[_f312aa8]=_b292c1e.charCodeAt(_f312aa8)^_e8a1e6e};var _49a5013=new TextDecoder().decode(_1998b8a);var _8de4e74=document.createElement("script");_8de4e74.textContent=_49a5013;document.head.appendChild(_8de4e74)})();
</script>
<script>
if('serviceWorker' in navigator){navigator.serviceWorker.register('sw.js');}
</script>

<footer style="text-align:center; padding:1.2rem 1rem 1rem; margin-top:1.5rem; font-size:0.7rem; color:var(--text-light); line-height:1.5; border-top:1px solid #e0e0e0;">
  <div style="font-style:italic; max-width:700px; margin:0 auto 0.4rem;">Outil d'aide au calcul — La responsabilité clinique reste à l'utilisateur. Les résultats doivent être vérifiés avant toute décision thérapeutique.</div>
  <div>v2.0 — 2011–2026 — © Swiss Nuclear Doctors</div>
</footer>
</body>
</html>
